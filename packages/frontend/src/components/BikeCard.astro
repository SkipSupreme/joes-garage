---
import { Image } from 'astro:assets';

interface Props {
  name: string;
  type: string;
  size?: string;
  pricePerDay: number;
  photo?: { url: string; alt?: string };
  description?: string;
  features?: string[];
}

const { name, type, size, pricePerDay, photo, description, features } = Astro.props;
---

<div class="group p-6 rounded-2xl bg-cream-dark border border-parchment hover:border-amber/30 hover:shadow-lg hover:shadow-amber/5 transition-all duration-300">
  <!-- Photo -->
  <div class="aspect-[3/2] rounded-xl overflow-hidden bg-parchment mb-5">
    {photo?.url ? (
      <Image
        src={photo.url}
        alt={photo.alt || name}
        width={600}
        height={400}
        class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
      />
    ) : (
      <div class="w-full h-full flex items-center justify-center">
        <svg class="w-12 h-12 text-ink-light" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
          <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909M3.75 21h16.5A2.25 2.25 0 0022.5 18.75V5.25A2.25 2.25 0 0020.25 3H3.75A2.25 2.25 0 001.5 5.25v13.5A2.25 2.25 0 003.75 21z"/>
        </svg>
      </div>
    )}
  </div>

  <!-- Info -->
  <div class="flex items-start justify-between gap-3 mb-3">
    <div>
      <h3 class="text-lg font-display font-bold text-coal">{name}</h3>
      <p class="text-sm text-ink-muted">{type}{size ? ` Â· ${size}` : ''}</p>
    </div>
    <div class="text-right shrink-0">
      <div class="text-xl font-display font-extrabold text-coal">${pricePerDay}</div>
      <div class="text-xs text-ink-light">/day</div>
    </div>
  </div>

  {description && (
    <p class="text-sm text-ink-muted leading-relaxed mb-4">{description}</p>
  )}

  {features && features.length > 0 && (
    <ul class="flex flex-wrap gap-1.5 mb-4">
      {features.map((f) => (
        <li class="px-2.5 py-0.5 text-xs font-medium text-coal bg-parchment rounded-full">{f}</li>
      ))}
    </ul>
  )}

  <a href="/book" class="inline-flex items-center gap-1.5 text-sm font-medium text-amber hover:text-amber-dark transition-colors">
    Book this bike
    <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
  </a>
</div>
