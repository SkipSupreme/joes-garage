---
import { Image } from 'astro:assets';

interface GalleryImage {
  image: { url: string; alt?: string };
  caption?: string;
}

interface Props {
  images: GalleryImage[];
  aboveFold?: boolean;
}

const { images, aboveFold = false } = Astro.props;
---

<section class="py-16 lg:py-20">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
      {images.map((item, i) => (
        <div class:list={[
          'group relative overflow-hidden rounded-2xl bg-cream-dark border border-parchment',
          i === 0 ? 'sm:col-span-2 sm:row-span-2' : '',
        ]}>
          <Image
            src={item.image.url}
            alt={item.image.alt || item.caption || ''}
            width={i === 0 ? 800 : 400}
            height={i === 0 ? 600 : 300}
            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
          />
          {item.caption && (
            <div class="absolute inset-0 bg-gradient-to-t from-coal/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end">
              <p class="p-5 text-cream text-sm font-medium">{item.caption}</p>
            </div>
          )}
        </div>
      ))}
    </div>
  </div>
</section>
