---
interface Props {
  image: { url: string; alt?: string };
  content: string; // Rich text HTML
  imagePosition: 'left' | 'right';
}

const { image, content, imagePosition = 'left' } = Astro.props;
---

<section class="py-16 lg:py-20">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class:list={[
      'grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center',
      imagePosition === 'right' ? 'lg:[direction:rtl] [&>*]:lg:[direction:ltr]' : '',
    ]}>
      <!-- Image -->
      <div class="relative">
        <div class="aspect-[3/4] sm:aspect-[4/3] rounded-2xl overflow-hidden bg-cream-dark border border-parchment">
          <img
            src={image.url}
            alt={image.alt || ''}
            class="w-full h-full object-cover object-top"
            loading="lazy"
          />
        </div>
        <div class:list={[
          'absolute -bottom-4 w-24 h-24 rounded-xl bg-amber/10 -z-10',
          imagePosition === 'right' ? '-left-4' : '-right-4',
        ]}></div>
      </div>

      <!-- Text -->
      <div class="prose prose-lg max-w-none
        prose-headings:font-display prose-headings:font-bold prose-headings:text-coal prose-headings:tracking-tight
        prose-p:text-ink-muted prose-p:leading-relaxed
        prose-a:text-amber prose-a:no-underline hover:prose-a:text-amber-dark
        prose-strong:text-coal
      " set:html={content}>
      </div>
    </div>
  </div>
</section>
