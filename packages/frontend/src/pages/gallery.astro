---
import Base from '../layouts/Base.astro';

// Placeholder images — will be populated from Payload CMS Media collection
const galleryImages = [
  { caption: 'Workshop floor', alt: 'Inside Joe\'s Garage workshop' },
  { caption: 'Wheel truing station', alt: 'Precision wheel truing' },
  { caption: 'Rental fleet', alt: 'Our rental bike lineup' },
  { caption: 'Custom build', alt: 'Custom bike build in progress' },
  { caption: 'Calgary ride', alt: 'Riding along Bow River pathway' },
  { caption: 'Drivetrain detail', alt: 'Clean drivetrain close-up' },
  { caption: 'Bike Film Festival', alt: 'Joe\'s Garage at the Bicycle Film Festival' },
  { caption: 'Happy rider', alt: 'Customer picking up their rental' },
  { caption: 'Tool wall', alt: 'The tool wall at Joe\'s Garage' },
];
---

<Base title="Gallery" description="Photos from Joe's Garage — our workshop, rental bikes, custom builds, and Calgary cycling adventures.">

  <!-- Hero -->
  <section class="relative py-10 sm:py-16 lg:py-24 bg-coal overflow-hidden">
    <div class="absolute inset-0 grain"></div>
    <div class="absolute top-0 right-0 w-[400px] h-[400px] bg-red/5 rounded-full blur-[100px]"></div>

    <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl">
        <span class="text-sm font-medium text-red tracking-wider uppercase">Gallery</span>
        <h1 class="mt-2 text-3xl sm:text-5xl lg:text-6xl font-display font-extrabold text-cream tracking-tight leading-tight">
          The shop in
          <span class="text-red-light">pictures.</span>
        </h1>
        <p class="mt-4 text-base sm:text-lg text-cream/50 max-w-xl">
          A peek inside the workshop, our rental fleet, and the Calgary rides we love.
        </p>
      </div>
    </div>

    <div class="absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-cream to-transparent"></div>
  </section>

  <!-- Gallery grid -->
  <section class="py-10 sm:py-16 lg:py-24">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
        {galleryImages.map((image, i) => (
          <div class:list={[
            'group relative overflow-hidden rounded-2xl bg-cream-dark border border-parchment cursor-pointer',
            i === 0 ? 'sm:col-span-2 sm:row-span-2' : '',
          ]}>
            <div class:list={[
              'flex items-center justify-center',
              i === 0 ? 'aspect-square' : 'aspect-[4/3]',
            ]}>
              <!-- Placeholder for CMS images -->
              <div class="text-center p-6">
                <svg class="w-12 h-12 text-coal-lighter mx-auto mb-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909M3.75 21h16.5A2.25 2.25 0 0022.5 18.75V5.25A2.25 2.25 0 0020.25 3H3.75A2.25 2.25 0 001.5 5.25v13.5A2.25 2.25 0 003.75 21z"/>
                </svg>
                <p class="text-sm text-ink-muted">{image.caption}</p>
                <p class="text-xs text-ink-light mt-1">(CMS-managed)</p>
              </div>
            </div>

            <!-- Hover overlay -->
            <div class="absolute inset-0 bg-coal/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end">
              <div class="p-5">
                <p class="text-cream text-sm font-medium">{image.caption}</p>
              </div>
            </div>
          </div>
        ))}
      </div>

      <p class="mt-8 text-center text-sm text-ink-light">
        All photos managed through the CMS. Joe can upload new photos anytime.
      </p>
    </div>
  </section>

</Base>
