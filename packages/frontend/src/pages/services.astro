---
import Base from '../layouts/Base.astro';

// These will come from Payload CMS at build time â€” hardcoded for now
const services = [
  {
    name: 'Basic Tune-Up',
    description: 'Brake and derailleur adjustment, tire inflation, chain lube, safety check. Perfect for regular maintenance.',
    price: 60,
    estimatedTime: '1-2 hours',
    popular: false,
  },
  {
    name: 'Standard Tune-Up',
    description: 'Everything in Basic, plus wheel truing, hub adjustment, cable tension check, and a thorough drivetrain clean.',
    price: 120,
    estimatedTime: '2-4 hours',
    popular: true,
  },
  {
    name: 'Full Overhaul',
    description: 'Complete teardown and rebuild. Every component inspected, cleaned, greased, and adjusted. Your bike will ride like new.',
    price: 250,
    estimatedTime: '1-2 days',
    popular: false,
  },
  {
    name: 'Flat Repair',
    description: 'Tube patch or replacement, tire inspection for debris, proper inflation.',
    price: 20,
    estimatedTime: '15-30 min',
    popular: false,
  },
  {
    name: 'Brake Service',
    description: 'Brake pad replacement, cable adjustment, lever alignment. Rim or disc brakes.',
    price: 40,
    estimatedTime: '30-60 min',
    popular: false,
  },
  {
    name: 'Wheel Truing',
    description: 'Spoke tension correction and lateral/radial trueing to get your wheel spinning straight.',
    price: 30,
    estimatedTime: '30-45 min',
    popular: false,
  },
  {
    name: 'Drivetrain Clean & Lube',
    description: 'Full chain, cassette, and chainring clean. Fresh lubricant applied and shifting dialed in.',
    price: 45,
    estimatedTime: '45-60 min',
    popular: false,
  },
  {
    name: 'Bike Fit Consultation',
    description: 'Saddle height, handlebar position, and cleat alignment. Ride more comfortably and efficiently.',
    price: 50,
    estimatedTime: '30-45 min',
    popular: false,
  },
];
---

<Base title="Services" description="Bike repair services at Joe's Garage, Calgary. Tune-ups, flat repairs, overhauls, wheel truing, and more. Fair prices, honest work.">

  <!-- Hero -->
  <section class="relative py-10 sm:py-16 lg:py-24 bg-coal overflow-hidden">
    <div class="absolute inset-0 grain"></div>
    <div class="absolute -bottom-40 -left-40 w-[500px] h-[500px] bg-red/5 rounded-full blur-[120px]"></div>

    <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl">
        <span class="text-sm font-medium text-red tracking-wider uppercase">Repair Services</span>
        <h1 class="mt-2 text-3xl sm:text-5xl lg:text-6xl 3xl:text-7xl font-display font-extrabold text-cream tracking-tight leading-tight">
          We fix bikes.
          <span class="text-red">Properly.</span>
        </h1>
        <p class="mt-6 text-lg 3xl:text-xl text-cream/50 max-w-xl 3xl:max-w-2xl">
          No shortcuts, no mystery charges. Just quality work at prices that make sense. Most repairs done same-day.
        </p>
      </div>
    </div>

    <div class="absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-cream to-transparent"></div>
  </section>

  <!-- Services grid -->
  <section class="py-10 sm:py-16 lg:py-24">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-2 3xl:grid-cols-3 gap-6 3xl:gap-8" data-reveal-stagger>
        {services.map((service) => (
          <div class:list={[
            'group relative p-8 rounded-2xl border transition-all duration-300 hover:-translate-y-1',
            service.popular
              ? 'bg-coal text-cream border-coal-lighter hover:border-amber/30'
              : 'bg-cream-dark border-parchment hover:border-amber/30 hover:shadow-lg hover:shadow-amber/5',
          ]}>
            {service.popular && (
              <div class="absolute top-4 right-4">
                <span class="px-2.5 py-1 text-[10px] font-bold tracking-wider uppercase bg-amber/20 text-amber rounded-full">Most Popular</span>
              </div>
            )}

            <div class="flex items-start justify-between gap-4">
              <div class="flex-1">
                <h3 class:list={[
                  'text-xl font-display font-bold mb-2',
                  service.popular ? 'text-cream' : 'text-coal',
                ]}>
                  {service.name}
                </h3>
                <p class:list={[
                  'leading-relaxed',
                  service.popular ? 'text-cream/60' : 'text-ink-muted',
                ]}>
                  {service.description}
                </p>
                <div class:list={[
                  'flex items-center gap-3 mt-4 text-sm',
                  service.popular ? 'text-cream/40' : 'text-ink-light',
                ]}>
                  <span class="flex items-center gap-1">
                    <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    {service.estimatedTime}
                  </span>
                </div>
              </div>
              <div class="text-right shrink-0">
                <div class:list={[
                  'text-2xl font-display font-extrabold',
                  service.popular ? 'text-amber' : 'text-coal',
                ]}>
                  ${service.price}
                </div>
                <div class:list={[
                  'text-xs mt-0.5',
                  service.popular ? 'text-cream/40' : 'text-ink-light',
                ]}>
                  starting at
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>

      <!-- Note -->
      <div class="mt-12 p-6 rounded-xl bg-amber/5 border border-amber/15 text-center" data-reveal>
        <p class="text-sm text-ink-muted">
          <strong class="text-ink">Prices are starting estimates.</strong> We'll always give you a firm quote before starting any work.
          Parts are extra where needed. Drop by or call <a href="tel:+14038748189" class="text-amber hover:text-amber-dark font-medium">(403) 874-8189</a> for a quote.
        </p>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="py-10 sm:py-16 lg:py-20 bg-cream-dark">
    <div class="mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 text-center" data-reveal>
      <h2 class="text-3xl sm:text-4xl 3xl:text-5xl font-display font-extrabold text-coal tracking-tight">
        Need a repair?
      </h2>
      <p class="mt-4 text-lg text-ink-muted">
        Walk-ins welcome. For bigger jobs, give us a call first so we can plan the parts.
      </p>
      <div class="mt-8 flex flex-col sm:flex-row gap-4 justify-center">
        <a href="tel:+14038748189" class="inline-flex items-center justify-center gap-2 px-8 py-3.5 bg-coal text-cream font-bold rounded-xl hover:bg-coal-light transition-colors">
          <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
          Call Joe
        </a>
        <a href="/contact" class="inline-flex items-center justify-center px-8 py-3.5 text-coal font-medium rounded-xl border border-coal/15 hover:border-coal/30 transition-colors">
          Get Directions
        </a>
      </div>
    </div>
  </section>

</Base>
